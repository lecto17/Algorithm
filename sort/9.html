<!-- Insertion Sort 방식 -->
<meta charset="UTF-8" />
    <title>출력결과</title>
  </head>
  <body>
    <script>
      
      function solution(arr) {
        let count = 0, big = Number.MIN_SAFE_INTEGER;
        // [시작시간, 끝시간]을 s, e를 붙여 각각의 시간으로 쪼깨고, 오름차순으로 정렬할 아이디어.
        // 만약 같은 시간대인 경우, 'e' -> 's' 순으로 정렬하는 것.
        let sortedArr = arr.map(([ start, end ]) => [[start, 's'], [end, 'e']]).flat();
        
        sortedArr.sort((a, b) => {
          if (a[0] === b[0]) {
            return a[1].localeCompare(b[1]);
          } else {
            return a[0] - b[0];
          } 
        })
        
        for (let i = 0; i < sortedArr.length - 1; i++) {
          const [, type] = sortedArr[i];
          if (type === 's') count++;
          else count--;

          big = Math.max(big, count);
        }

        return big;
      }

      

      //  console.log(
      //   solution([
      //   [10, 20],
      //   [5 ,15],
      //   [17, 25],
      //   [30, 40],
      //   [5 ,10],
      //   [20, 30],
      //   [15, 17],
      //   ]
      // ));
      
      //  console.log(
      //   solution([
      //   [0, 5],
      //   [5, 10],
      //   [10, 15],
      //   ]
      // ));

       console.log(
        solution([
        [14, 18],
        [12, 15],
        [13, 20],
        [20, 30],
        [5, 14],
        ]
      ));
     
    </script>
  </body>
</html>

